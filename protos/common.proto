syntax = "proto3";

package agentic.common;

import "google/protobuf/timestamp.proto";

// ExecutionHeader contains common metadata for both TaskExecution and PlanExecution
message ExecutionHeader {
  // Unique identifier of the Plan or Task that created this execution
  string name = 1;
  
  // Unique identifier for this execution
  string exec_id = 2;
  
  // ID of the parent execution (empty for root executions)
  string parent_id = 3;
  
  // ID of the AgentGraph being executed
  string graph_id = 4;
  
  // ID of the AgentLifetime instance
  string lifetime_id = 5;
  
  // Tenant identifier for multi-tenancy
  string tenant_id = 6;
  
  // Execution attempt number (1-based)
  int32 attempt = 7;
  
  // Current iteration index within the graph
  int32 iteration_idx = 8;
  
  // ISO-8601 timestamp when execution was created
  string created_at = 9;
  
  // Current execution status
  ExecutionStatus status = 10;
  
  // ID of the edge that led to this execution (for tracking flow)
  string edge_taken = 11;
}

// Execution status enumeration
enum ExecutionStatus {
  EXECUTION_STATUS_UNSPECIFIED = 0;
  EXECUTION_STATUS_PENDING = 1;
  EXECUTION_STATUS_RUNNING = 2;
  EXECUTION_STATUS_SUCCEEDED = 3;
  EXECUTION_STATUS_FAILED = 4;
}